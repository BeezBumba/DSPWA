(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var K,v,qe,L,Me,Ke,ue,ve,_e,de,Ge,q={},Je=[],wt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,oe=Array.isArray;function O(e,t){for(var n in t)e[n]=t[n];return e}function Ye(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $(e,t,n){var r,o,i,l={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?K.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]===void 0&&(l[i]=e.defaultProps[i]);return z(e,l,r,o,null)}function z(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++qe,__i:-1,__u:0};return o==null&&v.vnode!=null&&v.vnode(i),i}function kt(){return{current:null}}function M(e){return e.children}function E(e,t){this.props=e,this.context=t}function B(e,t){if(t==null)return e.__?B(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?B(e):null}function Ze(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ze(e)}}function fe(e){(!e.__d&&(e.__d=!0)&&L.push(e)&&!te.__r++||Me!==v.debounceRendering)&&((Me=v.debounceRendering)||Ke)(te)}function te(){var e,t,n,r,o,i,l,c;for(L.sort(ue);e=L.shift();)e.__d&&(t=L.length,r=void 0,i=(o=(n=e).__v).__e,l=[],c=[],n.__P&&((r=O({},o)).__v=o.__v+1,v.vnode&&v.vnode(r),ge(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,l,i??B(o),!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,et(l,r,c),r.__e!=i&&Ze(r)),L.length>t&&L.sort(ue));te.__r=0}function Xe(e,t,n,r,o,i,l,c,u,_,f){var s,y,p,w,g,h=r&&r.__k||Je,d=t.length;for(n.__d=u,St(n,t,h),u=n.__d,s=0;s<d;s++)(p=n.__k[s])!=null&&(y=p.__i===-1?q:h[p.__i]||q,p.__i=s,ge(e,p,y,o,i,l,c,u,_,f),w=p.__e,p.ref&&y.ref!=p.ref&&(y.ref&&ye(y.ref,null,p),f.push(p.ref,p.__c||w,p)),g==null&&w!=null&&(g=w),65536&p.__u||y.__k===p.__k?u=Qe(p,u,e):typeof p.type=="function"&&p.__d!==void 0?u=p.__d:w&&(u=w.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=u,n.__e=g}function St(e,t,n){var r,o,i,l,c,u=t.length,_=n.length,f=_,s=0;for(e.__k=[],r=0;r<u;r++)(o=t[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=r+s,(o=e.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?z(null,o,null,null,null):oe(o)?z(M,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?z(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,i=null,(c=o.__i=Nt(o,n,l,f))!==-1&&(f--,(i=n[c])&&(i.__u|=131072)),i==null||i.__v===null?(c==-1&&s--,typeof o.type!="function"&&(o.__u|=65536)):c!==l&&(c==l-1?s--:c==l+1?s++:(c>l?s--:s++,o.__u|=65536))):o=e.__k[r]=null;if(f)for(r=0;r<_;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=B(i)),tt(i,i))}function Qe(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Qe(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=B(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function I(e,t){return t=t||[],e==null||typeof e=="boolean"||(oe(e)?e.some(function(n){I(n,t)}):t.push(e)),t}function Nt(e,t,n,r){var o=e.key,i=e.type,l=n-1,c=n+1,u=t[n];if(u===null||u&&o==u.key&&i===u.type&&!(131072&u.__u))return n;if(r>(u!=null&&!(131072&u.__u)?1:0))for(;l>=0||c<t.length;){if(l>=0){if((u=t[l])&&!(131072&u.__u)&&o==u.key&&i===u.type)return l;l--}if(c<t.length){if((u=t[c])&&!(131072&u.__u)&&o==u.key&&i===u.type)return c;c++}}return-1}function Ce(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||wt.test(t)?n:n+"px"}function Z(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ce(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ce(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ve,e.addEventListener(t,i?de:_e,i)):e.removeEventListener(t,i?de:_e,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function xe(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ve++;else if(t.t<n.u)return;return n(v.event?v.event(t):t)}}}function ge(e,t,n,r,o,i,l,c,u,_){var f,s,y,p,w,g,h,d,m,C,N,A,P,Ne,J,ae,W=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),i=[c=t.__e=n.__e]),(f=v.__b)&&f(t);e:if(typeof W=="function")try{if(d=t.props,m="prototype"in W&&W.prototype.render,C=(f=W.contextType)&&r[f.__c],N=f?C?C.props.value:f.__:r,n.__c?h=(s=t.__c=n.__c).__=s.__E:(m?t.__c=s=new W(d,N):(t.__c=s=new E(d,N),s.constructor=W,s.render=Ct),C&&C.sub(s),s.props=d,s.state||(s.state={}),s.context=N,s.__n=r,y=s.__d=!0,s.__h=[],s._sb=[]),m&&s.__s==null&&(s.__s=s.state),m&&W.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=O({},s.__s)),O(s.__s,W.getDerivedStateFromProps(d,s.__s))),p=s.props,w=s.state,s.__v=t,y)m&&W.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),m&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(m&&W.getDerivedStateFromProps==null&&d!==p&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(d,N),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(d,s.__s,N)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(s.props=d,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(Y){Y&&(Y.__=t)}),A=0;A<s._sb.length;A++)s.__h.push(s._sb[A]);s._sb=[],s.__h.length&&l.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(d,s.__s,N),m&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(p,w,g)})}if(s.context=N,s.props=d,s.__P=e,s.__e=!1,P=v.__r,Ne=0,m){for(s.state=s.__s,s.__d=!1,P&&P(t),f=s.render(s.props,s.state,s.context),J=0;J<s._sb.length;J++)s.__h.push(s._sb[J]);s._sb=[]}else do s.__d=!1,P&&P(t),f=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Ne<25);s.state=s.__s,s.getChildContext!=null&&(r=O(O({},r),s.getChildContext())),m&&!y&&s.getSnapshotBeforeUpdate!=null&&(g=s.getSnapshotBeforeUpdate(p,w)),Xe(e,oe(ae=f!=null&&f.type===M&&f.key==null?f.props.children:f)?ae:[ae],t,n,r,o,i,l,c,u,_),s.base=t.__e,t.__u&=-161,s.__h.length&&l.push(s),h&&(s.__E=s.__=null)}catch(Y){if(t.__v=null,u||i!=null){for(t.__u|=u?160:128;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;v.__e(Y,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Mt(n.__e,t,n,r,o,i,l,u,_);(f=v.diffed)&&f(t)}function et(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)ye(n[r],n[++r],n[++r]);v.__c&&v.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){v.__e(i,o.__v)}})}function Mt(e,t,n,r,o,i,l,c,u){var _,f,s,y,p,w,g,h=n.props,d=t.props,m=t.type;if(m==="svg"?o="http://www.w3.org/2000/svg":m==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(_=0;_<i.length;_++)if((p=i[_])&&"setAttribute"in p==!!m&&(m?p.localName===m:p.nodeType===3)){e=p,i[_]=null;break}}if(e==null){if(m===null)return document.createTextNode(d);e=document.createElementNS(o,m,d.is&&d),c&&(v.__m&&v.__m(t,i),c=!1),i=null}if(m===null)h===d||c&&e.data===d||(e.data=d);else{if(i=i&&K.call(e.childNodes),h=n.props||q,!c&&i!=null)for(h={},_=0;_<e.attributes.length;_++)h[(p=e.attributes[_]).name]=p.value;for(_ in h)if(p=h[_],_!="children"){if(_=="dangerouslySetInnerHTML")s=p;else if(!(_ in d)){if(_=="value"&&"defaultValue"in d||_=="checked"&&"defaultChecked"in d)continue;Z(e,_,null,p,o)}}for(_ in d)p=d[_],_=="children"?y=p:_=="dangerouslySetInnerHTML"?f=p:_=="value"?w=p:_=="checked"?g=p:c&&typeof p!="function"||h[_]===p||Z(e,_,p,h[_],o);if(f)c||s&&(f.__html===s.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(s&&(e.innerHTML=""),Xe(e,oe(y)?y:[y],t,n,r,m==="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,l,i?i[0]:n.__k&&B(n,0),c,u),i!=null)for(_=i.length;_--;)Ye(i[_]);c||(_="value",m==="progress"&&w==null?e.removeAttribute("value"):w!==void 0&&(w!==e[_]||m==="progress"&&!w||m==="option"&&w!==h[_])&&Z(e,_,w,h[_],o),_="checked",g!==void 0&&g!==e[_]&&Z(e,_,g,h[_],o))}return e}function ye(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){v.__e(o,n)}}function tt(e,t,n){var r,o;if(v.unmount&&v.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ye(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){v.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&tt(r[o],t,n||typeof e.type!="function");n||Ye(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Ct(e,t,n){return this.constructor(e,n)}function H(e,t,n){var r,o,i,l;v.__&&v.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],l=[],ge(t,e=(!r&&n||t).__k=$(M,null,[e]),o||q,q,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?K.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),et(i,e,l)}function nt(e,t){H(e,t,nt)}function xt(e,t,n){var r,o,i,l,c=O({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:c[i]=t[i]===void 0&&l!==void 0?l[i]:t[i];return arguments.length>2&&(c.children=arguments.length>3?K.call(arguments,2):n),z(e.type,c,r||e.key,o||e.ref,null)}function Pt(e,t){var n={__c:t="__cC"+Ge++,__:e,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,i;return this.getChildContext||(o=new Set,(i={})[t]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.forEach(function(c){c.__e=!0,fe(c)})},this.sub=function(l){o.add(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){o&&o.delete(l),c&&c.call(l)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}K=Je.slice,v={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(c){e=c}throw e}},qe=0,E.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof e=="function"&&(e=e(O({},n),this.props)),e&&O(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),fe(this))},E.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),fe(this))},E.prototype.render=M,L=[],Ke=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ue=function(e,t){return e.__v.__b-t.__v.__b},te.__r=0,ve=0,_e=xe(!1),de=xe(!0),Ge=0;var Wt=0;function a(e,t,n,r,o,i){t||(t={});var l,c,u=t;"ref"in t&&(l=t.ref,delete t.ref);var _={type:e,props:u,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Wt,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(l=e.defaultProps))for(c in l)u[c]===void 0&&(u[c]=l[c]);return v.vnode&&v.vnode(_),_}var F,k,se,Pe,U=0,rt=[],S=v,We=S.__b,Ee=S.__r,Oe=S.diffed,Ie=S.__c,$e=S.unmount,De=S.__;function j(e,t){S.__h&&S.__h(k,e,U||t),U=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function b(e){return U=1,be(st,e)}function be(e,t,n){var r=j(F++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):st(void 0,t),function(c){var u=r.__N?r.__N[0]:r.__[0],_=r.t(u,c);u!==_&&(r.__N=[_,r.__[1]],r.__c.setState({}))}],r.__c=k,!k.u)){var o=function(c,u,_){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(y){return!!y.__c});if(f.every(function(y){return!y.__N}))return!i||i.call(this,c,u,_);var s=!1;return f.forEach(function(y){if(y.__N){var p=y.__[0];y.__=y.__N,y.__N=void 0,p!==y.__[0]&&(s=!0)}}),!(!s&&r.__c.props===c)&&(!i||i.call(this,c,u,_))};k.u=!0;var i=k.shouldComponentUpdate,l=k.componentWillUpdate;k.componentWillUpdate=function(c,u,_){if(this.__e){var f=i;i=void 0,o(c,u,_),i=f}l&&l.call(this,c,u,_)},k.shouldComponentUpdate=o}return r.__N||r.__}function x(e,t){var n=j(F++,3);!S.__s&&ke(n.__H,t)&&(n.__=e,n.i=t,k.__H.__h.push(n))}function G(e,t){var n=j(F++,4);!S.__s&&ke(n.__H,t)&&(n.__=e,n.i=t,k.__h.push(n))}function we(e){return U=5,ie(function(){return{current:e}},[])}function ot(e,t,n){U=6,G(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function ie(e,t){var n=j(F++,7);return ke(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function V(e,t){return U=8,ie(function(){return e},t)}function it(e){var t=k.context[e.__c],n=j(F++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(k)),t.props.value):e.__}function lt(e,t){S.useDebugValue&&S.useDebugValue(t?t(e):e)}function at(){var e=j(F++,11);if(!e.__){for(var t=k.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Et(){for(var e;e=rt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Q),e.__H.__h.forEach(pe),e.__H.__h=[]}catch(t){e.__H.__h=[],S.__e(t,e.__v)}}S.__b=function(e){k=null,We&&We(e)},S.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),De&&De(e,t)},S.__r=function(e){Ee&&Ee(e),F=0;var t=(k=e.__c).__H;t&&(se===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(Q),t.__h.forEach(pe),t.__h=[],F=0)),se=k},S.diffed=function(e){Oe&&Oe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(rt.push(t)!==1&&Pe===S.requestAnimationFrame||((Pe=S.requestAnimationFrame)||Ot)(Et)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),se=k=null},S.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Q),n.__h=n.__h.filter(function(r){return!r.__||pe(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],S.__e(r,n.__v)}}),Ie&&Ie(e,t)},S.unmount=function(e){$e&&$e(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Q(r)}catch(o){t=o}}),n.__H=void 0,t&&S.__e(t,n.__v))};var Fe=typeof requestAnimationFrame=="function";function Ot(e){var t,n=function(){clearTimeout(r),Fe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Fe&&(t=requestAnimationFrame(n))}function Q(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function pe(e){var t=k;e.__c=e.__(),k=t}function ke(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function st(e,t){return typeof t=="function"?t(e):t}function he(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function me(e,t){this.props=e,this.context=t}function It(e,t){function n(o){var i=this.props.ref,l=i==o.ref;return!l&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!l:he(this.props,o)}function r(o){return this.shouldComponentUpdate=n,$(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(me.prototype=new E).isPureReactComponent=!0,me.prototype.shouldComponentUpdate=function(e,t){return he(this.props,e)||he(this.state,t)};var Le=v.__b;v.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Le&&Le(e)};var $t=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Dt(e){function t(n){if(!("ref"in n))return e(n,null);var r=n.ref;delete n.ref;var o=e(n,r);return n.ref=r,o}return t.$$typeof=$t,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Te=function(e,t){return e==null?null:I(I(e).map(t))},Ft={map:Te,forEach:Te,count:function(e){return e?I(e).length:0},only:function(e){var t=I(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:I},Lt=v.__e;v.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Lt(e,t,n,r)};var Ae=v.unmount;function ct(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=function(r,o){for(var i in o)r[i]=o[i];return r}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return ct(r,t,n)})),e}function ut(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return ut(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ee(){this.__u=0,this.t=null,this.__b=null}function _t(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Tt(e){var t,n,r;function o(i){if(t||(t=e()).then(function(l){n=l.default||l},function(l){r=l}),r)throw r;if(!n)throw t;return $(n,i)}return o.displayName="Lazy",o.__f=!0,o}function R(){this.u=null,this.o=null}v.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ae&&Ae(e)},(ee.prototype=new E).__c=function(e,t){var n=t.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var o=_t(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(c):c())};n.__R=l;var c=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=ut(u,u.__c.__P,u.__c.__O)}var _;for(r.setState({__a:r.__b=null});_=r.t.pop();)_.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ct(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&$(M,null,e.fallback);return o&&(o.__u&=-33),[$(M,null,t.__a?null:e.children),o]};var Be=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function At(e){return this.getChildContext=function(){return e.context},e.children}function Bt(e){var t=this,n=e.i;t.componentWillUnmount=function(){H(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),t.i.appendChild(r)},insertBefore:function(r,o){this.childNodes.push(r),t.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),t.i.removeChild(r)}}),H($(At,{context:t.context},e.__v),t.l)}function Ht(e,t){var n=$(Bt,{__v:e,i:t});return n.containerInfo=t,n}(R.prototype=new E).__a=function(e){var t=this,n=_t(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Be(t,e,r)):o()};n?n(i):i()}},R.prototype.render=function(e){this.u=null,this.o=new Map;var t=I(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},R.prototype.componentDidUpdate=R.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){Be(e,n,t)})};var dt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,jt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Rt=/[A-Z0-9]/g,zt=typeof document<"u",Vt=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function qt(e,t,n){return t.__k==null&&(t.textContent=""),H(e,t),typeof n=="function"&&n(),e?e.__c:null}function Kt(e,t,n){return nt(e,t),typeof n=="function"&&n(),e?e.__c:null}E.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(E.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var He=v.event;function Gt(){}function Jt(){return this.cancelBubble}function Yt(){return this.defaultPrevented}v.event=function(e){return He&&(e=He(e)),e.persist=Gt,e.isPropagationStopped=Jt,e.isDefaultPrevented=Yt,e.nativeEvent=e};var Se,Zt={enumerable:!1,configurable:!0,get:function(){return this.class}},Ue=v.vnode;v.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var l in n){var c=n[l];if(!(l==="value"&&"defaultValue"in n&&c==null||zt&&l==="children"&&r==="noscript"||l==="class"||l==="className")){var u=l.toLowerCase();l==="defaultValue"&&"value"in n&&n.value==null?l="value":l==="download"&&c===!0?c="":u==="translate"&&c==="no"?c=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?l="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||Vt(n.type)?u==="onfocus"?l="onfocusin":u==="onblur"?l="onfocusout":jt.test(l)&&(l=u):u=l="oninput":i&&Ut.test(l)?l=l.replace(Rt,"-$&").toLowerCase():c===null&&(c=void 0),u==="oninput"&&o[l=u]&&(l="oninputCapture"),o[l]=c}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=I(n.children).forEach(function(_){_.props.selected=o.value.indexOf(_.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=I(n.children).forEach(function(_){_.props.selected=o.multiple?o.defaultValue.indexOf(_.props.value)!=-1:o.defaultValue==_.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Zt)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=dt,Ue&&Ue(e)};var je=v.__r;v.__r=function(e){je&&je(e),Se=e.__c};var Re=v.diffed;v.diffed=function(e){Re&&Re(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Se=null};var Xt={ReactCurrentDispatcher:{current:{readContext:function(e){return Se.__n[e.__c].props.value},useCallback:V,useContext:it,useDebugValue:lt,useDeferredValue:pt,useEffect:x,useId:at,useImperativeHandle:ot,useInsertionEffect:mt,useLayoutEffect:G,useMemo:ie,useReducer:be,useRef:we,useState:b,useSyncExternalStore:vt,useTransition:ht}}};function Qt(e){return $.bind(null,e)}function le(e){return!!e&&e.$$typeof===dt}function en(e){return le(e)&&e.type===M}function tn(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function nn(e){return le(e)?xt.apply(null,arguments):e}function rn(e){return!!e.__k&&(H(null,e),!0)}function on(e){return e&&(e.base||e.nodeType===1&&e)||null}var ln=function(e,t){return e(t)},an=function(e,t){return e(t)},sn=M;function ft(e){e()}function pt(e){return e}function ht(){return[!1,ft]}var mt=G,cn=le;function vt(e,t){var n=t(),r=b({h:{__:n,v:t}}),o=r[0].h,i=r[1];return G(function(){o.__=n,o.v=t,ce(o)&&i({h:o})},[e,n,t]),x(function(){return ce(o)&&i({h:o}),e(function(){ce(o)&&i({h:o})})},[e]),n}function ce(e){var t,n,r=e.v,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}var T={useState:b,useId:at,useReducer:be,useEffect:x,useLayoutEffect:G,useInsertionEffect:mt,useTransition:ht,useDeferredValue:pt,useSyncExternalStore:vt,startTransition:ft,useRef:we,useImperativeHandle:ot,useMemo:ie,useCallback:V,useContext:it,useDebugValue:lt,version:"18.3.1",Children:Ft,render:qt,hydrate:Kt,unmountComponentAtNode:rn,createPortal:Ht,createElement:$,createContext:Pt,createFactory:Qt,cloneElement:nn,createRef:kt,Fragment:M,isValidElement:le,isElement:cn,isFragment:en,isMemo:tn,findDOMNode:on,Component:E,PureComponent:me,memo:It,forwardRef:Dt,flushSync:an,unstable_batchedUpdates:ln,StrictMode:sn,Suspense:ee,SuspenseList:R,lazy:Tt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Xt},gt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ze=T.createContext&&T.createContext(gt),un=["attr","size","title"];function _n(e,t){if(e==null)return{};var n=dn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(r){fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fn(e,t,n){return t=pn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e){var t=hn(e,"string");return typeof t=="symbol"?t:t+""}function hn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e){return e&&e.map((t,n)=>T.createElement(t.tag,re({key:n},t.attr),yt(t.child)))}function D(e){return t=>T.createElement(mn,ne({attr:re({},e.attr)},t),yt(e.child))}function mn(e){var t=n=>{var{attr:r,size:o,title:i}=e,l=_n(e,un),c=o||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),T.createElement("svg",ne({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:u,style:re(re({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&T.createElement("title",null,i),e.children)};return ze!==void 0?T.createElement(ze.Consumer,null,n=>t(n)):t(gt)}function vn(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 17 5-5-5-5"},child:[]},{tag:"path",attr:{d:"m13 17 5-5-5-5"},child:[]}]})(e)}function gn(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"4",height:"16",x:"6",y:"4"},child:[]},{tag:"rect",attr:{width:"4",height:"16",x:"14",y:"4"},child:[]}]})(e)}function yn(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function bt(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"3",y2:"15"},child:[]}]})(e)}function bn(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function wn(e){return D({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(e)}function kn({onOpenSettings:e,stopEmulating:t}){const[n,r]=b("Nintendo DS"),[o,i]=b(""),[l,c]=b(!1),[u,_]=b(!1),[f,s]=b(!1),y=()=>{t()},p=()=>{u||(_(!0),window.WebMelon.emulator.pause())},w=()=>{u&&(_(!1),window.WebMelon.emulator.resume())},g=()=>{f||u||(s(!0),window.WebMelon.emulator.setEmulatorSpeed(2))},h=()=>{!f||u||(s(!1),window.WebMelon.emulator.setEmulatorSpeed(1))},d=()=>{p(),e()},m=()=>{window.WebMelon.emulator.shutdown()};return x(()=>{if(document.getElementById("top-screen")&&!l)if(c(!0),window.WebMelon.emulator.startEmulation("top-screen","bottom-screen"),window.WebMelon.emulator.addShutdownListener(y),window.WebMelon.firmware.getFirmwareSettings().shouldFirmwareBoot)r("Main Menu"),i("Firmware Boot");else{const C=window.WebMelon.emulator.getGameTitle();if(C){const N=C.split(`
`);r(N[0]),N.length>1&&i(N[1])}}},[l]),a(M,{children:[a("div",{className:"emulator-header",children:[a("div",{className:"game-title-text-container",children:a("span",{className:"game-title-text",children:[a("b",{children:n})," (",o,")"]})}),a("div",{className:"emulator-controls-section",children:[a("div",{className:"tooltip","data-tip":"Stop Emulator",children:a("button",{className:"btn btn-square",onClick:m,children:a(wn,{size:"1.5em"})})}),a("div",{className:"tooltip","data-tip":"Settings",children:a("button",{className:"btn btn-square",onClick:d,children:a(yn,{size:"1.5em"})})}),a("div",{className:"tooltip","data-tip":u?"Resume":"Pause",children:a("button",{className:u?"btn btn-square btn-primary":"btn btn-square",onClick:u?w:p,children:a(gn,{size:"1.5em"})})}),a("div",{className:"tooltip","data-tip":f?"Stop fast forward":"Fast forward (2x)",children:a("button",{className:f?"btn btn-square btn-primary":"btn btn-square",onClick:f?h:g,children:a(vn,{size:"1.5em"})})})]})]}),a("div",{className:"emulator-container",children:[a("canvas",{className:"emulator-screen",id:"top-screen",height:"192",width:"256"}),a("canvas",{className:"emulator-screen",id:"bottom-screen",height:"192",width:"256"})]})]})}function Sn({onStartEmulating:e,onOpenSettings:t}){const[n,r]=b(null),[o,i]=b(null),[l,c]=b(!1),[u,_]=b(!1),[f,s]=b(!1),y=d=>{let m=d.target;!m.files||m.files.length===0||(i(m.files[0]),r(m.files[0].name))},p=d=>{var m;d.preventDefault(),(m=d.dataTransfer)!=null&&m.files.length&&(i(d.dataTransfer.files[0]),r(d.dataTransfer.files[0].name))},w=V(async()=>{if(console.log("starting prepare handler"),u)window.WebMelon.emulator.loadUserBIOS();else{let d=window.WebMelon.cart.getUnloadedCartCode();console.log(d),window.WebMelon.emulator.setSavePath("/savefiles/"+d+".sav"),window.WebMelon.emulator.loadFreeBIOS(),window.WebMelon.emulator.loadCart()}c(!1),e()},[u]),g=V(async()=>{if(!window.WebMelon||!o||l)return;c(!0);const d=new Uint8Array(await o.arrayBuffer());if(window.WebMelon.cart.createCart(),window.WebMelon.storage.createDirectory("/roms"),window.WebMelon.storage.write("/roms/game.nds",d),window.WebMelon.emulator.createEmulator(),!window.WebMelon.cart.loadFileIntoCart("/roms/game.nds")){c(!1);return}window.WebMelon.storage.onPrepare(w),window.WebMelon.storage.prepareVirtualFilesystem()},[o,l]),h=V(async()=>{!window.WebMelon||l||(c(!0),window.WebMelon.emulator.createEmulator(),_(!0))},[l,f,u]);return x(()=>{u&&(window.WebMelon.storage.onPrepare(w),window.WebMelon.storage.prepareVirtualFilesystem())},[u]),x(()=>{window.WebMelon.firmware.canFirmwareBoot(),setTimeout(()=>{s(window.WebMelon.firmware.canFirmwareBoot())},500)},[]),a(M,{children:[a("h1",{children:"ðŸŽ® DS Anywhere"}),a("p",{children:"Emulate a Nintendo DS entirely inside of your browser! To get started, add the .nds ROM file you would like to run below! Your files stay locally on your computer and are not uploaded anywhere. You may also add your own BIOS files in Settings to perform a Firmware Boot, which will allow you to boot into the Main Menu if you desire."}),a("p",{children:["You may also configure certain parts of the emulator (such as keybinds, user information, and firmware files) in ",a("a",{class:"link link-primary",onClick:t,children:"Settings..."})]}),a("p",{children:[a("b",{children:"Note:"})," This software is still in development, and you may encounter unintended behavior or lose saved data at anytime."]}),a("label",{for:"rom-file-input",onDrop:p,onDragOver:d=>d.preventDefault(),children:a("div",{className:"rom-input-container",children:[a(bt,{size:30}),a("p",{children:a("b",{children:"Insert ROM file"})}),a("p",{children:"Drag and drop, supports .nds files"}),n?a("p",{children:["Selected: ",n]}):""]})}),a("input",{type:"file",id:"rom-file-input",onChange:y}),a("button",{class:"btn btn-primary play-button",disabled:o===null||l,onClick:g,children:[l?a("span",{className:"loading loading-spinner loading-xs"}):""," Play"]}),f?a("button",{class:"btn btn-secondary play-button",disabled:l,onClick:h,children:[l?a("span",{className:"loading loading-spinner loading-xs"}):""," Firmware Boot"]}):null,a("div",{class:"footer-disclaimer",children:[a("span",{class:"disclaimer-text",children:[a("a",{class:"link link-primary",onClick:t,children:"Settings"})," â€¢ ",a("a",{href:"https://github.com/brxxn/ds-anywhere",class:"link link-primary",children:"GitHub"})]}),a("br",{}),a("span",{class:"disclaimer-text",children:["This emulator should ",a("i",{children:"only"})," be used to emulate legally acquired ROM and BIOS files. This emulator is not affiliated with or endorsed by Nintendo. The Nintendo DS is a trademark of Nintendo Corporation, Limited."]})]})]})}function Nn(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z"},child:[]},{tag:"circle",attr:{cx:"292",cy:"224",r:"20"},child:[]},{tag:"path",attr:{d:"M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z"},child:[]},{tag:"circle",attr:{cx:"336",cy:"180",r:"20"},child:[]},{tag:"circle",attr:{cx:"380",cy:"224",r:"20"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 176v96m48-48h-96"},child:[]}]})(e)}function Mn(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"352",height:"352",x:"80",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"rect",attr:{width:"224",height:"224",x:"144",y:"144",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"16",ry:"16"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 80V48m80 32V48M176 80V48m80 416v-32m80 32v-32m-160 32v-32m256-176h32m-32 80h32m-32-160h32M48 256h32m-32 80h32M48 176h32"},child:[]}]})(e)}function Cn(e){return D({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm8 336c0 4.411-3.589 8-8 8H48c-4.411 0-8-3.589-8-8V112c0-4.411 3.589-8 8-8h480c4.411 0 8 3.589 8 8v288zM170 270v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-336 82v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm384 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zM122 188v-28c0-6.627-5.373-12-12-12H82c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm96 0v-28c0-6.627-5.373-12-12-12h-28c-6.627 0-12 5.373-12 12v28c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12zm-98 158v-16c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v16c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function xn(){const[e,t]=b(50),[n,r]=b(50);return x(()=>{const l=window.WebMelon.input.getInputSettings();t(l.gamepadAxisSensitivity*100),r(l.gamepadRumbleIntensity*100)}),a("div",{className:"input-container",children:[a("div",{class:"label",children:a("span",{class:"label-text",children:"Controller Axis Sensitivity"})}),a("input",{type:"range",min:0,max:100,step:1,value:e,onChange:l=>{const c=parseInt(l.currentTarget.value);let u=window.WebMelon.input.getInputSettings();u.gamepadAxisSensitivity=c/100,window.WebMelon.input.setInputSettings(u)},className:"range"}),a("div",{class:"label",children:a("span",{class:"label-text-alt",children:"Setting this higher will make controller axes trigger less easily. If this is set too low, you may not be able to select two buttons at the same time (such as using the top left corner to select D-Pad Left and D-Pad Up simultaneously)."})}),a("div",{class:"label",children:a("span",{class:"label-text",children:"Rumble Pak Intensity"})}),a("input",{type:"range",min:0,max:100,step:1,value:n,onChange:l=>{const c=parseInt(l.currentTarget.value);let u=window.WebMelon.input.getInputSettings();u.gamepadRumbleIntensity=c/100,window.WebMelon.input.setInputSettings(u)},className:"range"}),a("div",{class:"label",children:a("span",{class:"label-text-alt",children:"Determine how much the controller should vibrate in games that support the Nintendo DS Rumble Pak."})})]})}function Pn(){const[e,t]=b("keyboard"),[n,r]=b([]),[o,i]=b(!1),[l,c]=b(!1),[u,_]=b(0),f=()=>{const g=window.WebMelon.input.getInputSettings();if(e==="keyboard"){let h=[];for(const d in window.WebMelon.constants.DS_INPUT_MAP){let m=window.WebMelon.constants.DS_INPUT_MAP[d],C=Object.keys(g.keybinds).filter(P=>g.keybinds[P]===m);console.log(C);const N=C.filter(P=>!g.alternateKeybinds.includes(P))[0]??null,A=C.filter(P=>g.alternateKeybinds.includes(P))[0]??null;h.push({keyPrimary:N,keyAlternate:A,name:window.WebMelon.constants.DS_BUTTON_NAME_MAP[d],bitfield:m})}console.log(h),r(h)}else r([])},s=()=>{let g={},h=[];for(const m of n)m.keyPrimary&&(g[m.keyPrimary]=m.bitfield),m.keyAlternate&&(g[m.keyAlternate]=m.bitfield,h.push(m.keyAlternate));let d=window.WebMelon.input.getInputSettings();d.keybinds=g,d.alternateKeybinds=h,window.WebMelon.input.setInputSettings(d)},y=(g,h)=>{_(g),c(h),i(!0)},p=(g,h)=>{let d=[...n];h?d[g].keyAlternate=null:d[g].keyPrimary=null,i(!1),r(d),s()},w=g=>{let h=[...n];for(const d in h)h[d].keyPrimary===g.key&&(h[d].keyPrimary=null),h[d].keyAlternate===g.key&&(h[d].keyAlternate=null),d===u.toString()&&(l?h[d].keyAlternate=g.key:h[d].keyPrimary=g.key);r(h),s(),i(!1)};return x(()=>{if(o)return window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w)}},[o]),x(()=>{i(!1),f()},[e]),a("div",{className:"controls-container",children:[a("div",{className:"controls-input-mode-selector",children:a("div",{className:"join",children:[a("input",{className:"join-item btn",type:"radio",name:"options","aria-label":"Keyboard",checked:e==="keyboard",onClick:()=>t("keyboard")}),a("input",{className:"join-item btn",type:"radio",name:"options","aria-label":"Controller",checked:e==="controller",onClick:()=>t("controller")})]})}),a("div",{className:"controls-list",children:n.length===0?a("span",{children:"Customizable controller settings not implemented yet."}):n.map((g,h)=>a("div",{className:"controls-control",children:[a("div",{className:"controls-ctrl-name",children:a("span",{className:"controls-ctrl-name-text",children:g.name})}),a("div",{className:o&&u===h&&!l?"controls-ctrl-primary controls-ctrl-active":"controls-ctrl-primary",onClick:()=>y(h,!1),onContextMenu:d=>{d.preventDefault(),p(h,!1)},children:a("span",{children:g.keyPrimary?a("kbd",{className:"kbd kbd-sm",children:g.keyPrimary.toUpperCase()}):a("span",{className:o&&u===h&&!l?"unbound-text-active":"unbound-text",children:o&&u===h&&!l?"press key":"click to bind..."})})}),a("div",{className:o&&u===h&&l?"controls-ctrl-alternate controls-ctrl-active":"controls-ctrl-alternate",onClick:()=>y(h,!0),onContextMenu:d=>{d.preventDefault(),p(h,!0)},children:a("span",{children:g.keyAlternate?a("kbd",{className:"kbd kbd-sm",children:g.keyAlternate.toUpperCase()}):a("span",{className:o&&u===h&&l?"unbound-text-active":"unbound-text",children:o&&u===h&&l?"press key":"click to bind..."})})})]},h))})]})}function Wn(){const[e,t]=b(window.WebMelon.firmware.getFirmwareSettings()),n=l=>{let c=Object.assign({},e);c.language=parseInt(l.currentTarget.value),t(window.WebMelon.firmware.setFirmwareSettings(c))},r=l=>{const c=parseInt(l.currentTarget.value);let u=Object.assign({},e);u.birthdayMonth=c;let _=new Date(2008,c,0).getDate();u.birthdayDay>_&&(u.birthdayDay=1),t(window.WebMelon.firmware.setFirmwareSettings(u))},o=l=>{const c=parseInt(l.currentTarget.value);let u=Object.assign({},e);u.birthdayDay=c,t(window.WebMelon.firmware.setFirmwareSettings(u))},i=l=>{let c=Object.assign({},e);c.nickname=l.currentTarget.value,t(window.WebMelon.firmware.setFirmwareSettings(c))};return a("div",{className:"personalization-container",children:[a("div",{className:"label",children:a("span",{class:"label-text",children:"Name"})}),a("input",{type:"text",placeholder:"Name",maxlength:10,value:e.nickname,onChange:i,className:"input input-bordered w-full"}),a("div",{className:"label",children:a("span",{class:"label-text-alt",children:"This name will be shown in games and menus inside the emulator. Max length: 10 characters."})}),a("div",{className:"label",children:a("span",{class:"label-text",children:"Birthday (MM/DD)"})}),a("div",{className:"birthday-selection",children:[a("div",{className:"birthday-selector",children:a("select",{className:"select select-bordered w-full max-w-xs",onChange:r,children:Array.from({length:12},(l,c)=>c+1).map(l=>a("option",{selected:l===e.birthdayMonth,children:l},l))})}),a("div",{className:"birthday-selector",children:a("select",{className:"select select-bordered w-full max-w-xs",onChange:o,children:Array.from({length:new Date(2008,e.birthdayMonth,0).getDate()},(l,c)=>c+1).map(l=>a("option",{selected:l===e.birthdayDay,children:l},l))})})]}),a("div",{className:"label",children:a("span",{class:"label-text-alt",children:"Some games may add easter eggs on this day. This doesn't have to be your real birthday."})}),a("div",{className:"label",children:a("span",{class:"label-text",children:"Language"})}),a("div",{className:"birthday-selection",children:a("div",{className:"birthday-selector",children:a("select",{className:"select select-bordered w-full max-w-xs",onChange:n,children:window.WebMelon.constants.FIRMWARE_LANGUAGES.map(l=>a("option",{selected:e.language===l.id,value:l.id,children:l.name},l.id))})})}),a("div",{className:"label",children:a("span",{class:"label-text-alt",children:"This language will be used as the firmware language and may be used by the games in the emulator as well."})})]})}function En(){const[e,t]=b(!1),[n,r]=b(!1),[o,i]=b(!1),l=async f=>{const s=["bios7.bin","bios9.bin","firmware.bin"];for(const y of f){if(!s.includes(y.name))return;window.WebMelon.firmware.uploadBiosFile(y.name,new Uint8Array(await y.arrayBuffer()))}c(),window.WebMelon.storage.sync()},c=()=>{const f=window.WebMelon.firmware.getActiveBiosFiles();t(f.hasBios7),r(f.hasBios9),i(f.hasFirmware)},u=f=>{let s=f.target;!s.files||s.files.length===0||l(s.files)},_=f=>{var s;f.preventDefault(),(s=f.dataTransfer)!=null&&s.files.length&&l(f.dataTransfer.files)};return x(()=>{c()},[]),a("div",{className:"firmware-container",children:[a("label",{for:"firmware-file-input",onDrop:_,onDragOver:f=>f.preventDefault(),children:a("div",{className:"firmware-input-container",children:[a(bt,{size:30}),a("p",{children:a("b",{children:"Add BIOS files"})}),a("p",{children:"Accepts: bios7.bin, bios9.bin, firmware.bin"})]})}),a("input",{type:"file",id:"firmware-file-input",onChange:u}),a("br",{}),a("ul",{children:[a("li",{children:["bios7.bin: ",a("b",{children:e?"Provided":"Missing"})]}),a("li",{children:["bios9.bin: ",a("b",{children:n?"Provided":"Missing"})]}),a("li",{children:["firmware.bin: ",a("b",{children:o?"Provided":"Missing"})]})]})]})}const X={controls:{displayName:"Controls",icon:a(Cn,{}),component:Pn},personalization:{displayName:"Personalization",icon:a(bn,{}),component:Wn},input:{displayName:"Controller Input",icon:a(Nn,{}),component:xn},firmware:{displayName:"Firmware",icon:a(Mn,{}),component:En}};function On({showing:e,onClose:t}){const n=we(null),[r,o]=b("controls"),i=()=>{window.localStorage.setItem("inputSettings",JSON.stringify(window.WebMelon.input.getInputSettings())),window.localStorage.setItem("firmwareSettings",JSON.stringify(window.WebMelon.firmware.getFirmwareSettings())),t()};x(()=>{if(!n.current||!window.WebMelon)return;if(!e){n.current.close();return}const c=u=>{u.key==="Escape"&&e&&i()};return window.addEventListener("keydown",c),n.current.showModal(),()=>{window.removeEventListener("keydown",c)}},[e]),x(()=>{if(!window.WebMelon){console.error("WebMelon not loaded");return}const c=window.localStorage.getItem("inputSettings"),u=window.localStorage.getItem("firmwareSettings");if(c){const _=JSON.parse(c);window.WebMelon.input.setInputSettings(_)}if(u){const _=JSON.parse(u);window.WebMelon.firmware.setFirmwareSettings(_)}},[]);const l=X[r].component;return a("dialog",{ref:n,id:"settings-modal",className:"modal",children:a("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl",children:[a("h3",{className:"font-bold text-lg",children:"Settings"}),a("div",{className:"settings-box-container",children:[a("ul",{className:"menu bg-base-200 rounded-box settings-menu",children:Object.keys(X).map(c=>a("li",{children:a("a",{className:r===c?"active":"",onClick:()=>o(c),children:[X[c].icon," ",X[c].displayName]})},c))}),a("div",{className:"settings-item",children:e?a(l,{}):null})]}),a("div",{className:"modal-action",children:a("button",{className:"btn",onClick:i,children:"Close"})})]})})}function In(){const[e,t]=b(!1),[n,r]=b(!1),o=async()=>{t(!0)},i=async()=>{t(!1)},l=()=>{r(!0)};return a(M,{children:[a("div",{className:"demo-page-container place-content-center",children:e?a(kn,{onOpenSettings:l,stopEmulating:i}):a(Sn,{onStartEmulating:o,onOpenSettings:l})}),a(On,{showing:n,onClose:()=>{r(!1)}})]})}function $n(){return a(M,{children:a("div",{children:a(In,{})})})}H(a($n,{}),document.getElementById("app"));
